<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do List</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <h1 style="color: blueviolet; text-align: center; margin-top: 20px;">My To-Do List</h1>
    </header>
    <main class="main">
        <form id="toDoList" class="form">
            <select id="listCategories" required>
                <option value="" disabled selected>Select Category</option>
                <option value="Work">Work</option>
                <option value="Home">Home</option>
                <option value="Personal">Personal</option>
                <option value="School">School</option>
                <option value="Volunteering">Volunteering</option>
            </select>
            <!-- Placeholder for selected category name-->
            <div id="categoryHeader" style="margin-top: 20px;"></div>
            <!--Placeholder for input boxes-->
            <div id="listInputs" style="margin-top: 20px;"></div>
            <p>
                <button type="button" id="addTaskButton" onclick="toDoList()">Add New Item</button>
            </p>
        </form>
        <!--Task list-->
        <ul id="toDoList"</ul>
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
        // Add an event listener to the dropdown menu  
            document.getElementById('listCategories').addEventListener('change', function() {
            // Get the name of the chosen category
                let selectedCategory = this.options[this.selectedIndex].text;
                console.log('Category selected:', selectedCategory);

            // Put the selected category name in the categoryHeader area
                let categoryHeader = document.getElementById('categoryHeader');
                console.log('Category header element:', categoryHeader);
                categoryHeader.innerHTML = `<h2>${selectedCategory}</h2>`;

            // Create5 empty boxes and put them in the listInputs area
                let listInputs = document.getElementById('listInputs'); 
                console.log('List inputs element:', listInputs);
                listInputs.innerHTML='';
                for (let i = 0; i < 5; i++) {
                    let inputBox = document.createElement('input');
                    inputBox.type = 'text';
                    inputBox.placeholder = 'Enter new task';
                    inputBox.id = `${selectedCategory.toLowerCase()}TaskInputs${i}`;
                    inputBox.name = `${selectedCategory.toLowerCase()}TaskInputs${i}`;
                    inputBox.style.display = 'block';
                    inputBox.style.margin = '10px 0';
                    console.log('Appending input box:', inputBox);
                    listInputs.appendChild(inputBox);
                }
            console.log('All input boxes appended');
            });
        });
        // Fucntion to add new task
        function toDoList() {
            const taskCategory = document.getElementById('listCategories').value;
            const taskInputs = document.querySelectorAll('#listInputs input');

            taskInputs.forEach(input => {
                const task = input.value.trim();
                if (task !== '') {
                    // Create a new list item for the task
                    const taskItem = document.createElement('li');
                    taskItem.textContent = $`{taskCategory}: ${task}`;
                    document.getElementById('taskList').appendChild(taskItem);
                    input.value = '';
                }
            });
        }

    </script>
</body>
</html>